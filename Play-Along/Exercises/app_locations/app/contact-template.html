<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://static.freshdev.io/fdk/2.0/assets/fresh_client.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://static.freshdev.io/fdk/2.0/assets/freshdesk.css">
    <script type="text/javascript">
      $(document).ready( function() {
        
        // Initialize client
        app.initialized().then(function(_client) {
          var client = _client;

          // Listening to App activation
          client.events.on('app.activated', function() {

            // Data API - contact
            client.data.get('contact').then(function(contactData) {
              console.log('Data api: contact:', contactData.contact);
              // Data API - company
              client.data.get('company').then(function(companyData) {
                console.log('Data api: company:', companyData.company);
                $('#apptext').text(`${contactData.contact.name} belongs to the company: ${companyData.company.name}`);
              })
            }).catch(function(e) {
              console.log('Exception - ', e);
            });
          });
        });
      });
    </script>
  </head>
  <body>
    <div class="fw-widget-wrapper">
      <div class="logo"></div>
      <p id="apptext"></p>
    </div>
  </body>
</html>
